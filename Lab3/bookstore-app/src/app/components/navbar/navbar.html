
<nav class="navbar navbar-expand-lg fixed-top vintage-navbar shadow-sm">
  <div class="container">
    <a class="navbar-brand d-flex align-items-center" routerLink="/products" (click)="closeMenu()">
      <i class="bi bi-book-half me-2 gold-icon"></i>
      <span class="brand-text">Bookly</span>
    </a>

    <button class="navbar-toggler custom-toggler" type="button" (click)="toggleMenu()">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" [class.show]="!isMenuCollapsed">
      <ul class="navbar-nav ms-auto align-items-center">
        @if (isLoggedIn) {
          <li class="nav-item">
            <a class="nav-link px-3" routerLink="/products" routerLinkActive="active-link" (click)="closeMenu()">
              Browse Books
            </a>
          </li>
          
          <li class="nav-item ms-lg-3">
            <a class="nav-link position-relative cart-link p-2" routerLink="/cart" routerLinkActive="active-link" (click)="closeMenu()">
              <i class="bi bi-cart3 fs-4 gold-icon"></i>
              @if (cartCount > 0) {
                <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill cart-badge">
                  {{ cartCount }}
                </span>
              }
            </a>
          </li>

          <li class="nav-item ms-lg-4">
            <button class="btn btn-logout-vintage d-flex align-items-center gap-2" (click)="onLogout()">
              <i class="bi bi-box-arrow-right"></i> 
              <span>Logout</span>
            </button>
          </li>
        } @else {
          <li class="nav-item">
            <a class="nav-link px-3" routerLink="/login" routerLinkActive="active-link" (click)="closeMenu()">Login</a>
          </li>
          <li class="nav-item">
            <a class="btn btn-register-gold ms-lg-3 px-4" routerLink="/register" (click)="closeMenu()">Register</a>
          </li>
        }
      </ul>
    </div>
  </div>
</nav>